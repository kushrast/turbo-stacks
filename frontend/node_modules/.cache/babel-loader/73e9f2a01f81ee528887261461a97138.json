{"ast":null,"code":"import _toConsumableArray from\"/Users/kushrastogi/Projects/productivity/turbo-stacks/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/kushrastogi/Projects/productivity/turbo-stacks/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kushrastogi/Projects/productivity/turbo-stacks/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kushrastogi/Projects/productivity/turbo-stacks/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kushrastogi/Projects/productivity/turbo-stacks/frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import FadeIn from'react-fade-in';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faCheck,faTrash,faTimesCircle}from'@fortawesome/free-solid-svg-icons';import{sortableContainer,sortableElement}from'react-sortable-hoc';import{arrayMoveImmutable}from'array-move';import{withRouter}from\"react-router\";import{createNewInstaList,getInstaList}from'./api/Storage.js';import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ListTitle=/*#__PURE__*/function(_React$Component){_inherits(ListTitle,_React$Component);var _super=_createSuper(ListTitle);function ListTitle(props){_classCallCheck(this,ListTitle);return _super.call(this,props);}_createClass(ListTitle,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{class:\"list-header columns is-centered\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"column is-7 field is-grouped\",children:[/*#__PURE__*/_jsx(\"input\",{class:\"input list-title-input underline\",ref:\"input\",defaultValue:this.props.value,onChange:this.props.updateTitle}),/*#__PURE__*/_jsx(\"p\",{class:\"buttons\",children:this.props.numItems>0?/*#__PURE__*/_jsx(\"button\",{class:\"button is-success is-medium is-light\",onClick:this.props.saveList,children:/*#__PURE__*/_jsx(\"span\",{class:\"icon\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCheck,size:\"xs\"})})}):/*#__PURE__*/_jsx(\"button\",{class:\"button is-medium is-light\",disabled:true,children:/*#__PURE__*/_jsx(\"span\",{class:\"icon\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCheck,size:\"xs\"})})})})]})});}}]);return ListTitle;}(React.Component);var ListItem=/*#__PURE__*/function(_React$Component2){_inherits(ListItem,_React$Component2);var _super2=_createSuper(ListItem);function ListItem(props){var _this;_classCallCheck(this,ListItem);_this=_super2.call(this,props);_this.getPlaceholder=function(){if(_this.props.newListItem){return\"Add new item\";}return\"Enter a value\";};_this.getDefaultValue=function(){if(_this.props.newListItem){return\"\";}return _this.state.value;};_this.getDefaultValue=function(){if(_this.props.newListItem){return\"\";}return _this.state.value;};_this.updateInputValue=function(inputElem){_this.setState({value:inputElem.target.value});};_this.onSubmit=function(){_this.refs.input.blur();_this.props.onEnter(_this.props.index,_this.state.value);if(_this.props.newListItem){_this.setState({value:\"\"});}};_this.onKeyDown=function(event){if(event.key===\"Enter\"){_this.onSubmit();}};_this.state={value:_this.props.value};return _this;}_createClass(ListItem,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{class:\"columns is-centered\",children:/*#__PURE__*/_jsx(\"div\",{class:\"column is-7\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card-content list-card\",children:/*#__PURE__*/_jsx(\"div\",{class:\"content\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"field is-grouped list-item-number\",children:[/*#__PURE__*/_jsx(\"p\",{class:\"control list-item is-expanded\",children:/*#__PURE__*/_jsx(\"input\",{class:\"input list-item-input underline\",ref:\"input\",placeholder:this.getPlaceholder(),type:\"text\",value:this.state.value,onChange:this.updateInputValue,onKeyDown:this.onKeyDown})}),this.props.newListItem?/*#__PURE__*/_jsx(\"p\",{}):/*#__PURE__*/_jsx(\"p\",{class:\"buttons\",children:/*#__PURE__*/_jsx(\"button\",{class:\"button is-ghost is-medium\",onClick:function onClick(){_this2.props.onDelete(_this2.props.index);},children:/*#__PURE__*/_jsx(\"span\",{class:\"icon\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimesCircle,size:\"xs\"})})})})]})})})})})});}}]);return ListItem;}(React.Component);var SortableListItem=sortableElement(function(_ref){var value=_ref.value,onEnter=_ref.onEnter,sortIndex=_ref.sortIndex,onDelete=_ref.onDelete;return/*#__PURE__*/_jsx(\"li\",{class:\"list-item-container\",children:/*#__PURE__*/_jsx(ListItem,{value:value,onEnter:onEnter,index:sortIndex,onDelete:onDelete})});});var SortableListContainer=sortableContainer(function(_ref2){var children=_ref2.children;return/*#__PURE__*/_jsx(\"ul\",{children:children});});var ListControls=/*#__PURE__*/function(_React$Component3){_inherits(ListControls,_React$Component3);var _super3=_createSuper(ListControls);function ListControls(props){_classCallCheck(this,ListControls);return _super3.call(this,props);}_createClass(ListControls,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{class:\"columns is-centered\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"column is-7\",children:[!this.props.isToggled?/*#__PURE__*/_jsx(\"button\",{class:\"button is-info is-light\",onClick:this.props.toggleList,children:\"Toggle\"}):/*#__PURE__*/_jsx(\"button\",{class:\"button is-info\",onClick:this.props.toggleList,children:\"Untoggle\"}),/*#__PURE__*/_jsx(\"button\",{class:!this.props.persist?\"button is-danger is-light\":\"button is-primary is-light\",style:{marginLeft:\"10px\"},onClick:this.props.togglePersist,children:!this.props.persist?/*#__PURE__*/_jsx(\"span\",{children:\" Don't persist \"}):/*#__PURE__*/_jsx(\"span\",{children:\" Persist \"})})]})});}}]);return ListControls;}(React.Component);var BaseInstaList=/*#__PURE__*/function(_React$Component4){_inherits(BaseInstaList,_React$Component4);var _super4=_createSuper(BaseInstaList);function BaseInstaList(props){var _this3;_classCallCheck(this,BaseInstaList);_this3=_super4.call(this,props);_this3.toggleList=function(){_this3.setState({showAll:!_this3.state.showAll});};_this3.state={showAll:true};return _this3;}_createClass(BaseInstaList,[{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ListTitle,{value:this.props.title,numItems:this.props.items.length,saveList:this.props.saveList,updateTitle:this.props.updateTitle}),/*#__PURE__*/_jsx(ListControls,{toggleList:this.toggleList,isToggled:!this.state.showAll,togglePersist:this.props.togglePersist,persist:this.props.persist}),/*#__PURE__*/_jsx(SortableListContainer,{onSortEnd:this.props.onSortEnd,distance:1,children:this.state.showAll?this.props.items.map(function(item,i){return/*#__PURE__*/_jsx(SortableListItem,{value:item,index:i,sortIndex:i,onDelete:_this4.props.onDelete,onEnter:_this4.props.onEnter},item);}):this.props.items.length>0?/*#__PURE__*/_jsx(SortableListItem,{value:this.props.items[0],index:0,onDelete:this.props.onDelete,onEnter:this.props.onEnter},this.props.items[0]):/*#__PURE__*/_jsx(\"div\",{})}),this.state.showAll?/*#__PURE__*/_jsx(ListItem,{newListItem:true,onEnter:this.props.addNewItem}):/*#__PURE__*/_jsx(\"div\",{children:this.props.items.length==0?/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"div\",{class:\"columns is-centered\",children:/*#__PURE__*/_jsx(\"div\",{class:\"column is-7 has-text-centered\",style:{fontStyle:\"italic\",color:\"grey\"},children:\"No items in list\"})})}):/*#__PURE__*/_jsx(\"span\",{})})]});}}]);return BaseInstaList;}(React.Component);var InstaList=/*#__PURE__*/function(_React$Component5){_inherits(InstaList,_React$Component5);var _super5=_createSuper(InstaList);function InstaList(props){var _this5;_classCallCheck(this,InstaList);_this5=_super5.call(this,props);_this5.onSortEnd=function(_ref3){var oldIndex=_ref3.oldIndex,newIndex=_ref3.newIndex;_this5.setState(function(_ref4){var items=_ref4.items;return{items:arrayMoveImmutable(items,oldIndex,newIndex)};});};_this5.addNewItem=function(ignored,newValue){_this5.setState({items:[].concat(_toConsumableArray(_this5.state.items),[newValue])});};_this5.updateTitle=function(titleUpdateEvent){_this5.setState({title:titleUpdateEvent.target.value});};_this5.saveList=function(){var newListId=createNewInstaList(_this5.state.title,_this5.state.items);_this5.props.history.push(\"/instalist/\"+newListId);};_this5.onDelete=function(index){var newItemsList=_this5.state.items;newItemsList.splice(index,1);_this5.setState({items:newItemsList});};_this5.togglePersist=function(){_this5.setState({persist:!_this5.state.persist});};_this5.onEnter=function(index,updatedItemValue){if(_this5.state.items.length>index){var items=_this5.state.items;items[index]=updatedItemValue;_this5.setState({items:items});}};var savedListData=getInstaList(props.match.params.id);_this5.state={persist:savedListData.persist,items:savedListData.items,title:savedListData.title};return _this5;}_createClass(InstaList,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(BaseInstaList,{title:this.state.title,items:this.state.items,saveList:this.saveList,updateTitle:this.updateTitle,toggleList:this.toggleList,onSortEnd:this.onSortEnd,onDelete:this.onDelete,addNewItem:this.addNewItem,persist:this.state.persist,togglePersist:this.togglePersist,onEnter:this.onEnter});}}]);return InstaList;}(React.Component);var InstaListFormTemplate=/*#__PURE__*/function(_React$Component6){_inherits(InstaListFormTemplate,_React$Component6);var _super6=_createSuper(InstaListFormTemplate);function InstaListFormTemplate(props){var _this6;_classCallCheck(this,InstaListFormTemplate);_this6=_super6.call(this,props);_this6.onSortEnd=function(_ref5){var oldIndex=_ref5.oldIndex,newIndex=_ref5.newIndex;_this6.setState(function(_ref6){var items=_ref6.items;return{items:arrayMoveImmutable(items,oldIndex,newIndex)};});};_this6.addNewItem=function(ignored,newValue){_this6.setState({items:[].concat(_toConsumableArray(_this6.state.items),[newValue])});};_this6.updateTitle=function(titleUpdateEvent){_this6.setState({title:titleUpdateEvent.target.value});};_this6.saveList=function(){var newListId=createNewInstaList(_this6.state.title,_this6.state.items,_this6.state.persist);_this6.props.history.push(\"/instalist/\"+newListId);};_this6.onDelete=function(index){var newItemsList=_this6.state.items;newItemsList.splice(index,1);_this6.setState({items:newItemsList});};_this6.togglePersist=function(){_this6.setState({persist:!_this6.state.persist});};_this6.onEnter=function(index,updatedItemValue){if(_this6.state.items.length>index){var items=_this6.state.items;items[index]=updatedItemValue;_this6.setState({items:items});}};_this6.state={persist:false,items:[],title:\"New Title\"};return _this6;}_createClass(InstaListFormTemplate,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(BaseInstaList,{title:this.state.title,items:this.state.items,saveList:this.saveList,updateTitle:this.updateTitle,toggleList:this.toggleList,onSortEnd:this.onSortEnd,onDelete:this.onDelete,addNewItem:this.addNewItem,persist:this.state.persist,togglePersist:this.togglePersist,onEnter:this.onEnter});}}]);return InstaListFormTemplate;}(React.Component);export default withRouter(InstaList);export var InstaListForm=withRouter(InstaListFormTemplate);","map":{"version":3,"sources":["/Users/kushrastogi/Projects/productivity/turbo-stacks/frontend/src/InstaList.jsx"],"names":["FadeIn","FontAwesomeIcon","faCheck","faTrash","faTimesCircle","sortableContainer","sortableElement","arrayMoveImmutable","withRouter","createNewInstaList","getInstaList","React","ListTitle","props","value","updateTitle","numItems","saveList","Component","ListItem","getPlaceholder","newListItem","getDefaultValue","state","updateInputValue","inputElem","setState","target","onSubmit","refs","input","blur","onEnter","index","onKeyDown","event","key","onDelete","SortableListItem","sortIndex","SortableListContainer","children","ListControls","isToggled","toggleList","persist","marginLeft","togglePersist","BaseInstaList","showAll","title","items","length","onSortEnd","map","item","i","addNewItem","fontStyle","color","InstaList","oldIndex","newIndex","ignored","newValue","titleUpdateEvent","newListId","history","push","newItemsList","splice","updatedItemValue","savedListData","match","params","id","InstaListFormTemplate","InstaListForm"],"mappings":"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","sourcesContent":["import FadeIn from 'react-fade-in';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheck, faTrash, faTimesCircle } from '@fortawesome/free-solid-svg-icons';\nimport {sortableContainer, sortableElement} from 'react-sortable-hoc';\nimport {arrayMoveImmutable} from 'array-move';\nimport { withRouter } from \"react-router\";\n\nimport {createNewInstaList, getInstaList} from './api/Storage.js';\n\nimport React from 'react';\n\nclass ListTitle extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n        <div class=\"list-header columns is-centered\">\n          <div class=\"column is-7 field is-grouped\">\n            <input class=\"input list-title-input underline\" ref=\"input\" defaultValue={this.props.value} onChange={this.props.updateTitle}/>\n            <p class=\"buttons\">\n            {\n              this.props.numItems > 0 ?\n              <button class=\"button is-success is-medium is-light\"  onClick={this.props.saveList}>\n                <span class=\"icon\">\n                  <FontAwesomeIcon icon={faCheck} size=\"xs\"/>\n                </span>\n              </button>\n              :\n              <button class=\"button is-medium is-light\" disabled>\n                <span class=\"icon\">\n                  <FontAwesomeIcon icon={faCheck} size=\"xs\"/>\n                </span>\n              </button>\n            }\n            </p>\n          </div>\n        </div>\n      );\n  }\n}\n\nclass ListItem extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      value: this.props.value\n    }\n  }\n\n  getPlaceholder = () => {\n    if (this.props.newListItem) {\n      return \"Add new item\";\n    } \n    return \"Enter a value\";\n  }\n\n  getDefaultValue = () => {\n    if (this.props.newListItem) {\n      return \"\";\n    } \n    return this.state.value;\n  }\n\n  getDefaultValue = () => {\n    if (this.props.newListItem) {\n      return \"\";\n    } \n    return this.state.value;\n  }\n\n  updateInputValue = (inputElem) => {\n    this.setState({value: inputElem.target.value});\n  }\n\n  onSubmit = () => {\n    this.refs.input.blur();\n    this.props.onEnter(this.props.index, this.state.value);\n    if (this.props.newListItem) {\n      this.setState({value: \"\"});\n    }\n  }\n\n  onKeyDown = (event) => {\n    if (event.key===\"Enter\") {\n      this.onSubmit();\n    }\n  }\n\n  render() {\n    return (\n  <div class=\"columns is-centered\">\n    <div class=\"column is-7\">\n      <div class=\"card\">\n        <div class=\"card-content list-card\">\n          <div class=\"content\">\n            <div class=\"field is-grouped list-item-number\">\n              <p class=\"control list-item is-expanded\">\n                <input class=\"input list-item-input underline\" ref=\"input\" placeholder={this.getPlaceholder()} type=\"text\" value={this.state.value} onChange={this.updateInputValue} onKeyDown={this.onKeyDown}/>\n              </p>\n              { this.props.newListItem ?\n                <p></p> :\n              <p class=\"buttons\">\n                <button class=\"button is-ghost is-medium\" onClick={() => {this.props.onDelete(this.props.index)}}>\n                  <span class=\"icon\">\n                    <FontAwesomeIcon icon={faTimesCircle} size=\"xs\"/>\n                  </span>\n                </button>\n              </p>\n            }\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n      );\n  }\n}\n\nconst SortableListItem = sortableElement(({value, onEnter, sortIndex, onDelete}) => (\n  <li class=\"list-item-container\">\n    <ListItem value={value} onEnter={onEnter} index={sortIndex} onDelete={onDelete}/>\n  </li>\n));\n\nconst SortableListContainer = sortableContainer(({children}) => {\n  return (\n    <ul>{children}</ul>\n  );\n});\n\nclass ListControls extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div class=\"columns is-centered\">\n        <div class=\"column is-7\">\n        { !this.props.isToggled ? \n          <button class=\"button is-info is-light\" onClick={this.props.toggleList}>Toggle</button>\n          :\n          <button class=\"button is-info\" onClick={this.props.toggleList}>Untoggle</button>\n        }\n        <button class={!this.props.persist ? \"button is-danger is-light\" : \"button is-primary is-light\"} style={{marginLeft: \"10px\"}} onClick={this.props.togglePersist}>\n          { !this.props.persist ? \n            <span> Don't persist </span> :\n            <span> Persist </span>\n          }\n        </button>\n        </div>\n      </div>\n      );\n  }\n}\n\nclass BaseInstaList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showAll: true,\n    }\n  }\n\n  toggleList = () => {\n    this.setState({showAll: !this.state.showAll});\n  }\n\n  render() {\n    return (\n      <div>\n          <ListTitle value={this.props.title}  numItems={this.props.items.length} saveList={this.props.saveList} updateTitle={this.props.updateTitle} />\n          <ListControls toggleList={this.toggleList} isToggled={!this.state.showAll} togglePersist={this.props.togglePersist} persist={this.props.persist}/>\n          <SortableListContainer onSortEnd={this.props.onSortEnd} distance={1}>\n          {\n            this.state.showAll ?\n            (this.props.items.map((item, i) => (\n                <SortableListItem\n                  key={item}\n                  value={item}\n                  index={i}\n                  sortIndex={i}\n                  onDelete={this.props.onDelete}\n                  onEnter={this.props.onEnter}/>)))\n            :\n            (this.props.items.length > 0 ? \n              <SortableListItem\n                  key={this.props.items[0]}\n                  value={this.props.items[0]}\n                  index={0}\n                  onDelete={this.props.onDelete}\n                  onEnter={this.props.onEnter}/>\n              :\n              <div></div>)\n          }\n          </SortableListContainer>\n          {\n            this.state.showAll ? \n            <ListItem newListItem={true} onEnter={this.props.addNewItem}/>\n            :\n            <div>\n              {this.props.items.length == 0 ? \n                <span>\n                  <div class=\"columns is-centered\">\n                    <div class=\"column is-7 has-text-centered\" style={{fontStyle:\"italic\", color: \"grey\"}}>\n                      No items in list\n                    </div>\n                  </div>\n                </span>: \n                <span></span>}\n            </div>\n          }\n      </div>\n      );\n  }\n}\n\nclass InstaList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    var savedListData = getInstaList(props.match.params.id);\n\n    this.state = {\n      persist: savedListData.persist,\n      items: savedListData.items,\n      title: savedListData.title\n    }\n  }\n\n  onSortEnd = ({oldIndex, newIndex}) => {\n    this.setState(({items}) => ({\n      items: arrayMoveImmutable(items, oldIndex, newIndex),\n    }));\n  };\n\n  addNewItem = (ignored, newValue) => {\n    this.setState({items: [...this.state.items, newValue]});\n  }\n\n  updateTitle = (titleUpdateEvent) => {\n    this.setState({title: titleUpdateEvent.target.value});\n  }\n\n  saveList = () => {\n    var newListId = createNewInstaList(this.state.title, this.state.items);\n\n    this.props.history.push(\"/instalist/\" + newListId);\n  }\n\n  onDelete = (index) => {\n    var newItemsList = this.state.items;\n    newItemsList.splice(index, 1);\n    this.setState({items: newItemsList});\n  }\n\n  togglePersist = () => {\n    this.setState({persist: !this.state.persist});\n  }\n\n  onEnter = (index, updatedItemValue) => {\n    if (this.state.items.length > index) {\n      var items = this.state.items;\n      items[index] = updatedItemValue;\n      this.setState({items: items})\n    }\n  }\n\n  render() {\n    return (\n      <BaseInstaList title={this.state.title} items={this.state.items} saveList={this.saveList} updateTitle={this.updateTitle} toggleList={this.toggleList} onSortEnd={this.onSortEnd} onDelete={this.onDelete} addNewItem={this.addNewItem} persist={this.state.persist} togglePersist={this.togglePersist} onEnter={this.onEnter}/>\n      );\n  }\n}\n\nclass InstaListFormTemplate extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      persist: false,\n      items: [],\n      title: \"New Title\"\n    }\n  }\n\n  onSortEnd = ({oldIndex, newIndex}) => {\n    this.setState(({items}) => ({\n      items: arrayMoveImmutable(items, oldIndex, newIndex),\n    }));\n  };\n\n  addNewItem = (ignored, newValue) => {\n    this.setState({items: [...this.state.items, newValue]});\n  }\n\n  updateTitle = (titleUpdateEvent) => {\n    this.setState({title: titleUpdateEvent.target.value});\n  }\n\n  saveList = () => {\n    var newListId = createNewInstaList(this.state.title, this.state.items, this.state.persist);\n\n    this.props.history.push(\"/instalist/\" + newListId);\n  }\n\n  onDelete = (index) => {\n    var newItemsList = this.state.items;\n    newItemsList.splice(index, 1);\n    this.setState({items: newItemsList});\n  }\n\n  togglePersist = () => {\n    this.setState({persist: !this.state.persist});\n  }\n\n  onEnter = (index, updatedItemValue) => {\n    if (this.state.items.length > index) {\n      var items = this.state.items;\n      items[index] = updatedItemValue;\n      this.setState({items: items})\n    }\n  }\n\n  render() {\n    return (\n      <BaseInstaList title={this.state.title} items={this.state.items} saveList={this.saveList} updateTitle={this.updateTitle} toggleList={this.toggleList} onSortEnd={this.onSortEnd} onDelete={this.onDelete} addNewItem={this.addNewItem}  persist={this.state.persist} togglePersist={this.togglePersist} onEnter={this.onEnter}/>\n      );\n  }\n}\n\nexport default withRouter(InstaList);\nexport const InstaListForm = withRouter(InstaListFormTemplate);\n"]},"metadata":{},"sourceType":"module"}