{"ast":null,"code":"import { v4 as uuidv4 } from 'uuid';\n\nclass StorageClient {\n  constructor() {}\n\n  createNewList(title, listItems) {}\n\n}\n\nclass LocalStorageClient extends StorageClient {\n  constructor(...args) {\n    super(...args);\n\n    this.getLocalStorage = () => {\n      if (typeof Storage !== \"undefined\") {\n        return window.localStorage;\n      } else {\n        return null;\n      }\n    };\n\n    this.createNewList = (title, listItems) => {\n      var storage = this.getLocalStorage();\n\n      if (storage != null) {\n        var listId = uuidv4();\n        var creationTimestampMs = new Date().getTime();\n        var currentLists;\n        var currentListsAsString = storage.getItem(\"lists\");\n\n        if (currentListsAsString == null) {\n          currentLists = {};\n        } else {\n          currentLists = JSON.parse(currentListsAsString);\n        }\n\n        currentLists[listId] = {\n          \"title\": title,\n          \"items\": listItems,\n          \"creationTimestampMs\": creationTimestampMs\n        };\n        storage.setItem(\"lists\", JSON.stringify(currentLists));\n        return listId;\n      }\n\n      return \"\";\n    };\n  }\n\n}\n\nvar localStorageClient = new LocalStorageClient();\nexport const createNewList = localStorageClient.createNewList;","map":{"version":3,"sources":["/Users/kushrastogi/Projects/productivity/turbo-stacks/frontend/src/api/Storage.js"],"names":["v4","uuidv4","StorageClient","constructor","createNewList","title","listItems","LocalStorageClient","getLocalStorage","Storage","window","localStorage","storage","listId","creationTimestampMs","Date","getTime","currentLists","currentListsAsString","getItem","JSON","parse","setItem","stringify","localStorageClient"],"mappings":"AAAA,SAASA,EAAE,IAAIC,MAAf,QAA6B,MAA7B;;AAEA,MAAMC,aAAN,CAAoB;AACnBC,EAAAA,WAAW,GAAE,CAAE;;AACfC,EAAAA,aAAa,CAACC,KAAD,EAAQC,SAAR,EAAkB,CAAE;;AAFd;;AAKpB,MAAMC,kBAAN,SAAiCL,aAAjC,CAA+C;AAAA;AAAA;;AAAA,SAC9CM,eAD8C,GAC5B,MAAM;AACvB,UAAI,OAAOC,OAAP,KAAoB,WAAxB,EAAqC;AACnC,eAAOC,MAAM,CAACC,YAAd;AACD,OAFD,MAEO;AACL,eAAO,IAAP;AACD;AACD,KAP6C;;AAAA,SAS9CP,aAT8C,GAS9B,CAACC,KAAD,EAAQC,SAAR,KAAsB;AACrC,UAAIM,OAAO,GAAG,KAAKJ,eAAL,EAAd;;AACA,UAAII,OAAO,IAAI,IAAf,EAAqB;AACpB,YAAIC,MAAM,GAAGZ,MAAM,EAAnB;AACA,YAAIa,mBAAmB,GAAG,IAAIC,IAAJ,GAAWC,OAAX,EAA1B;AAEA,YAAIC,YAAJ;AACA,YAAIC,oBAAoB,GAAGN,OAAO,CAACO,OAAR,CAAgB,OAAhB,CAA3B;;AAEA,YAAID,oBAAoB,IAAI,IAA5B,EAAkC;AACjCD,UAAAA,YAAY,GAAG,EAAf;AACA,SAFD,MAEO;AACNA,UAAAA,YAAY,GAAGG,IAAI,CAACC,KAAL,CAAWH,oBAAX,CAAf;AACA;;AAEDD,QAAAA,YAAY,CAACJ,MAAD,CAAZ,GAAuB;AAAC,mBAASR,KAAV;AAAiB,mBAASC,SAA1B;AAAqC,iCAAuBQ;AAA5D,SAAvB;AAEAF,QAAAA,OAAO,CAACU,OAAR,CAAgB,OAAhB,EAAyBF,IAAI,CAACG,SAAL,CAAeN,YAAf,CAAzB;AAEA,eAAOJ,MAAP;AACA;;AACD,aAAO,EAAP;AACA,KA/B6C;AAAA;;AAAA;;AAkC/C,IAAIW,kBAAkB,GAAG,IAAIjB,kBAAJ,EAAzB;AAEA,OAAO,MAAMH,aAAa,GAAGoB,kBAAkB,CAACpB,aAAzC","sourcesContent":["import { v4 as uuidv4 } from 'uuid';\n\nclass StorageClient {\n\tconstructor(){}\n\tcreateNewList(title, listItems){}\n}\n\nclass LocalStorageClient extends StorageClient {\n\tgetLocalStorage = () => {\n\t\tif (typeof(Storage) !== \"undefined\") {\n\t\t  return window.localStorage;\n\t\t} else {\n\t\t  return null;\n\t\t}\n\t}\n\n\tcreateNewList = (title, listItems) => {\n\t\tvar storage = this.getLocalStorage();\n\t\tif (storage != null) {\n\t\t\tvar listId = uuidv4();\n\t\t\tvar creationTimestampMs = new Date().getTime();\n\n\t\t\tvar currentLists;\n\t\t\tvar currentListsAsString = storage.getItem(\"lists\");\n\n\t\t\tif (currentListsAsString == null) {\n\t\t\t\tcurrentLists = {};\n\t\t\t} else {\n\t\t\t\tcurrentLists = JSON.parse(currentListsAsString);\n\t\t\t}\n\n\t\t\tcurrentLists[listId] = {\"title\": title, \"items\": listItems, \"creationTimestampMs\": creationTimestampMs}\n\n\t\t\tstorage.setItem(\"lists\", JSON.stringify(currentLists));\n\n\t\t\treturn listId;\n\t\t}\n\t\treturn \"\";\n\t}\n}\n\nvar localStorageClient = new LocalStorageClient();\n\nexport const createNewList = localStorageClient.createNewList;"]},"metadata":{},"sourceType":"module"}