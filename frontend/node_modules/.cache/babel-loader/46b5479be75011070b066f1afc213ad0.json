{"ast":null,"code":"import { v4 as uuidv4 } from 'uuid';\n\nclass StorageClient {\n  constructor() {}\n\n  createNewList(title, listItems) {}\n\n}\n\nclass LocalStorageClient extends StorageClient {\n  constructor(...args) {\n    super(...args);\n\n    this.getLocalStorage = () => {\n      if (typeof Storage !== \"undefined\") {\n        return window.localStorage;\n      } else {\n        return null;\n      }\n    };\n\n    this.createNewList = (title, listItems) => {\n      var storage = this.getLocalStorage();\n\n      if (storage != null) {\n        var listId = uuidv4();\n        var creationTimestampMs = new Date().getTime();\n        var currentLists = storage.getItem(\"lists\");\n\n        if (currentLists == null) {\n          currentLists = {};\n        }\n\n        currentLists[listId] = {\n          \"title\": title,\n          \"items\": listItems,\n          \"creationTimestampMs\": creationTimestampMs\n        };\n        storage.setItem(\"lists\", JSON.stringify(currentLists));\n      }\n    };\n  }\n\n}\n\nvar localStorageClient = new LocalStorageClient();\nexport const createNewList = localStorageClient.createNewList;","map":{"version":3,"sources":["/Users/kushrastogi/Projects/productivity/turbo-stacks/frontend/src/api/Storage.js"],"names":["v4","uuidv4","StorageClient","constructor","createNewList","title","listItems","LocalStorageClient","getLocalStorage","Storage","window","localStorage","storage","listId","creationTimestampMs","Date","getTime","currentLists","getItem","setItem","JSON","stringify","localStorageClient"],"mappings":"AAAA,SAASA,EAAE,IAAIC,MAAf,QAA6B,MAA7B;;AAEA,MAAMC,aAAN,CAAoB;AACnBC,EAAAA,WAAW,GAAE,CAAE;;AACfC,EAAAA,aAAa,CAACC,KAAD,EAAQC,SAAR,EAAkB,CAAE;;AAFd;;AAKpB,MAAMC,kBAAN,SAAiCL,aAAjC,CAA+C;AAAA;AAAA;;AAAA,SAC9CM,eAD8C,GAC5B,MAAM;AACvB,UAAI,OAAOC,OAAP,KAAoB,WAAxB,EAAqC;AACnC,eAAOC,MAAM,CAACC,YAAd;AACD,OAFD,MAEO;AACL,eAAO,IAAP;AACD;AACD,KAP6C;;AAAA,SAS9CP,aAT8C,GAS9B,CAACC,KAAD,EAAQC,SAAR,KAAsB;AACrC,UAAIM,OAAO,GAAG,KAAKJ,eAAL,EAAd;;AACA,UAAII,OAAO,IAAI,IAAf,EAAqB;AACpB,YAAIC,MAAM,GAAGZ,MAAM,EAAnB;AACA,YAAIa,mBAAmB,GAAG,IAAIC,IAAJ,GAAWC,OAAX,EAA1B;AAEA,YAAIC,YAAY,GAAGL,OAAO,CAACM,OAAR,CAAgB,OAAhB,CAAnB;;AAEA,YAAID,YAAY,IAAI,IAApB,EAA0B;AACzBA,UAAAA,YAAY,GAAG,EAAf;AACA;;AAEDA,QAAAA,YAAY,CAACJ,MAAD,CAAZ,GAAuB;AAAC,mBAASR,KAAV;AAAiB,mBAASC,SAA1B;AAAqC,iCAAuBQ;AAA5D,SAAvB;AAEAF,QAAAA,OAAO,CAACO,OAAR,CAAgB,OAAhB,EAAyBC,IAAI,CAACC,SAAL,CAAeJ,YAAf,CAAzB;AACA;AACD,KAzB6C;AAAA;;AAAA;;AA4B/C,IAAIK,kBAAkB,GAAG,IAAIf,kBAAJ,EAAzB;AAEA,OAAO,MAAMH,aAAa,GAAGkB,kBAAkB,CAAClB,aAAzC","sourcesContent":["import { v4 as uuidv4 } from 'uuid';\n\nclass StorageClient {\n\tconstructor(){}\n\tcreateNewList(title, listItems){}\n}\n\nclass LocalStorageClient extends StorageClient {\n\tgetLocalStorage = () => {\n\t\tif (typeof(Storage) !== \"undefined\") {\n\t\t  return window.localStorage;\n\t\t} else {\n\t\t  return null;\n\t\t}\n\t}\n\n\tcreateNewList = (title, listItems) => {\n\t\tvar storage = this.getLocalStorage();\n\t\tif (storage != null) {\n\t\t\tvar listId = uuidv4();\n\t\t\tvar creationTimestampMs = new Date().getTime();\n\n\t\t\tvar currentLists = storage.getItem(\"lists\");\n\n\t\t\tif (currentLists == null) {\n\t\t\t\tcurrentLists = {};\n\t\t\t}\n\n\t\t\tcurrentLists[listId] = {\"title\": title, \"items\": listItems, \"creationTimestampMs\": creationTimestampMs}\n\n\t\t\tstorage.setItem(\"lists\", JSON.stringify(currentLists));\n\t\t}\n\t}\n}\n\nvar localStorageClient = new LocalStorageClient();\n\nexport const createNewList = localStorageClient.createNewList;"]},"metadata":{},"sourceType":"module"}