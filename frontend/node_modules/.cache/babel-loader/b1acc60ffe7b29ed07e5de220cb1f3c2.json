{"ast":null,"code":"import _inherits from\"/Users/kushrastogi/Projects/productivity/turbo-stacks/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kushrastogi/Projects/productivity/turbo-stacks/frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import _classCallCheck from\"/Users/kushrastogi/Projects/productivity/turbo-stacks/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kushrastogi/Projects/productivity/turbo-stacks/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import{v4 as uuidv4}from'uuid';var StorageClient=/*#__PURE__*/function(){function StorageClient(){_classCallCheck(this,StorageClient);}_createClass(StorageClient,[{key:\"createNewInstaList\",value:function createNewInstaList(title,listItems,persist){}},{key:\"getInstaList\",value:function getInstaList(listId){}}]);return StorageClient;}();var LocalStorageClient=/*#__PURE__*/function(_StorageClient){_inherits(LocalStorageClient,_StorageClient);var _super=_createSuper(LocalStorageClient);function LocalStorageClient(){var _this;_classCallCheck(this,LocalStorageClient);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.getLocalStorage=function(){if(typeof Storage!==\"undefined\"){return window.localStorage;}else{return null;}};_this.createNewInstaList=function(title,listItems,persist){var storage=_this.getLocalStorage();if(storage!=null){var listId=uuidv4();var creationTimestampMs=new Date().getTime();var currentLists;var currentListsAsString=storage.getItem(\"lists\");if(currentListsAsString==null){currentLists={};}else{currentLists=JSON.parse(currentListsAsString);}currentLists[listId]={\"title\":title,\"items\":listItems,\"creationTimestampMs\":creationTimestampMs,\"persist\":persist};storage.setItem(\"lists\",JSON.stringify(currentLists));return listId;}return\"\";};_this.getInstaList=function(listId){var storage=_this.getLocalStorage();if(storage!=null){var currentLists;var currentListsAsString=storage.getItem(\"lists\");if(currentListsAsString==null){currentLists={};}else{currentLists=JSON.parse(currentListsAsString);}return currentLists[listId];}return{};};return _this;}return LocalStorageClient;}(StorageClient);var localStorageClient=new LocalStorageClient();export var createNewInstaList=localStorageClient.createNewInstaList;export var getInstaList=localStorageClient.getInstaList;","map":{"version":3,"sources":["/Users/kushrastogi/Projects/productivity/turbo-stacks/frontend/src/api/Storage.js"],"names":["v4","uuidv4","StorageClient","title","listItems","persist","listId","LocalStorageClient","getLocalStorage","Storage","window","localStorage","createNewInstaList","storage","creationTimestampMs","Date","getTime","currentLists","currentListsAsString","getItem","JSON","parse","setItem","stringify","getInstaList","localStorageClient"],"mappings":"ojBAAA,OAASA,EAAE,GAAIC,CAAAA,MAAf,KAA6B,MAA7B,C,GAEMC,CAAAA,a,yBACL,wBAAa,qCAAE,C,4DACf,4BAAmBC,KAAnB,CAA0BC,SAA1B,CAAqCC,OAArC,CAA6C,CAAE,C,4BAC/C,sBAAaC,MAAb,CAAoB,CAAE,C,gCAGjBC,CAAAA,kB,mXACLC,e,CAAkB,UAAM,CACvB,GAAI,MAAOC,CAAAA,OAAP,GAAoB,WAAxB,CAAqC,CACnC,MAAOC,CAAAA,MAAM,CAACC,YAAd,CACD,CAFD,IAEO,CACL,MAAO,KAAP,CACD,CACD,C,OAEDC,kB,CAAqB,SAACT,KAAD,CAAQC,SAAR,CAAmBC,OAAnB,CAA+B,CACnD,GAAIQ,CAAAA,OAAO,CAAG,MAAKL,eAAL,EAAd,CACA,GAAIK,OAAO,EAAI,IAAf,CAAqB,CACpB,GAAIP,CAAAA,MAAM,CAAGL,MAAM,EAAnB,CACA,GAAIa,CAAAA,mBAAmB,CAAG,GAAIC,CAAAA,IAAJ,GAAWC,OAAX,EAA1B,CAEA,GAAIC,CAAAA,YAAJ,CACA,GAAIC,CAAAA,oBAAoB,CAAGL,OAAO,CAACM,OAAR,CAAgB,OAAhB,CAA3B,CAEA,GAAID,oBAAoB,EAAI,IAA5B,CAAkC,CACjCD,YAAY,CAAG,EAAf,CACA,CAFD,IAEO,CACNA,YAAY,CAAGG,IAAI,CAACC,KAAL,CAAWH,oBAAX,CAAf,CACA,CAEDD,YAAY,CAACX,MAAD,CAAZ,CAAuB,CAAC,QAASH,KAAV,CAAiB,QAASC,SAA1B,CAAqC,sBAAuBU,mBAA5D,CAAiF,UAAWT,OAA5F,CAAvB,CAEAQ,OAAO,CAACS,OAAR,CAAgB,OAAhB,CAAyBF,IAAI,CAACG,SAAL,CAAeN,YAAf,CAAzB,EAEA,MAAOX,CAAAA,MAAP,CACA,CACD,MAAO,EAAP,CACA,C,OAEDkB,Y,CAAe,SAAClB,MAAD,CAAY,CAC1B,GAAIO,CAAAA,OAAO,CAAG,MAAKL,eAAL,EAAd,CACA,GAAIK,OAAO,EAAI,IAAf,CAAqB,CACpB,GAAII,CAAAA,YAAJ,CACA,GAAIC,CAAAA,oBAAoB,CAAGL,OAAO,CAACM,OAAR,CAAgB,OAAhB,CAA3B,CAEA,GAAID,oBAAoB,EAAI,IAA5B,CAAkC,CACjCD,YAAY,CAAG,EAAf,CACA,CAFD,IAEO,CACNA,YAAY,CAAGG,IAAI,CAACC,KAAL,CAAWH,oBAAX,CAAf,CACA,CAED,MAAOD,CAAAA,YAAY,CAACX,MAAD,CAAnB,CACA,CACD,MAAO,EAAP,CACA,C,2CAhD+BJ,a,EAmDjC,GAAIuB,CAAAA,kBAAkB,CAAG,GAAIlB,CAAAA,kBAAJ,EAAzB,CAEA,MAAO,IAAMK,CAAAA,kBAAkB,CAAGa,kBAAkB,CAACb,kBAA9C,CACP,MAAO,IAAMY,CAAAA,YAAY,CAAGC,kBAAkB,CAACD,YAAxC","sourcesContent":["import { v4 as uuidv4 } from 'uuid';\n\nclass StorageClient {\n\tconstructor(){}\n\tcreateNewInstaList(title, listItems, persist){}\n\tgetInstaList(listId){}\n}\n\nclass LocalStorageClient extends StorageClient {\n\tgetLocalStorage = () => {\n\t\tif (typeof(Storage) !== \"undefined\") {\n\t\t  return window.localStorage;\n\t\t} else {\n\t\t  return null;\n\t\t}\n\t}\n\n\tcreateNewInstaList = (title, listItems, persist) => {\n\t\tvar storage = this.getLocalStorage();\n\t\tif (storage != null) {\n\t\t\tvar listId = uuidv4();\n\t\t\tvar creationTimestampMs = new Date().getTime();\n\n\t\t\tvar currentLists;\n\t\t\tvar currentListsAsString = storage.getItem(\"lists\");\n\n\t\t\tif (currentListsAsString == null) {\n\t\t\t\tcurrentLists = {};\n\t\t\t} else {\n\t\t\t\tcurrentLists = JSON.parse(currentListsAsString);\n\t\t\t}\n\n\t\t\tcurrentLists[listId] = {\"title\": title, \"items\": listItems, \"creationTimestampMs\": creationTimestampMs, \"persist\": persist}\n\n\t\t\tstorage.setItem(\"lists\", JSON.stringify(currentLists));\n\n\t\t\treturn listId;\n\t\t}\n\t\treturn \"\";\n\t}\n\n\tgetInstaList = (listId) => {\n\t\tvar storage = this.getLocalStorage();\n\t\tif (storage != null) {\n\t\t\tvar currentLists;\n\t\t\tvar currentListsAsString = storage.getItem(\"lists\");\n\n\t\t\tif (currentListsAsString == null) {\n\t\t\t\tcurrentLists = {};\n\t\t\t} else {\n\t\t\t\tcurrentLists = JSON.parse(currentListsAsString);\n\t\t\t}\n\n\t\t\treturn currentLists[listId];\n\t\t}\n\t\treturn {};\n\t}\n}\n\nvar localStorageClient = new LocalStorageClient();\n\nexport const createNewInstaList = localStorageClient.createNewInstaList;\nexport const getInstaList = localStorageClient.getInstaList;"]},"metadata":{},"sourceType":"module"}